{% extends "layout.html" %}

{% block results %}

  <main id="main">
  
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
  var topka = new Map([
    {% for point in najlepsi %}
    ["{{options[loop.index0]}}", {{ point }}],
  {% endfor %}
  ]);
  var vsetci = new Map([
    {% for point in vsetci %}
    ["{{options[loop.index0]}}", {{ point }}],
  {% endfor %}
  ]);
  var worst0 = new Map([
    {% for point in najhorsi_0 %}
    ["{{options[loop.index0]}}", {{ point }}],
  {% endfor %}
  ]);
  var worst = new Map([
   {% for point in najhorsi_nie_0 %}
    ["{{options[loop.index0]}}", {{ point }}],
  {% endfor %}
  ]);
    google.charts.load('current', { 'packages': ['corechart'] });

    function generateChart() {
     var selectedValue = document.getElementById("selectOption").value;
    var topValue = topka.get(selectedValue);
    var allValue = vsetci.get(selectedValue);
    var worst0Value = worst0.get(selectedValue);
    var worstValue = worst.get(selectedValue);
      var data = google.visualization.arrayToDataTable([
        ['Group', 'Mean', { role: 'style' }],
        ['TOP', topValue, '#b87333'],
        ['ALL', allValue, 'silver'],
        ['WORST0', worst0Value, 'gold'],
        ['WORST', worstValue, 'blue']
      ]);
    
      var view = new google.visualization.DataView(data);
      view.setColumns([0, 1, {
        calc: 'stringify',
        sourceColumn: 1,
        type: 'string',
        role: 'annotation'
      }, 2]);

      var options = {
        title: 'Means of the given variable in specific groups',
        width: 600,
        height: 400,
        bar: { groupWidth: '95%' },
        legend: { position: 'none' },
      };

      var chart = new google.visualization.BarChart(document.getElementById('barchart_values'));
      chart.draw(view, options);
    }
    google.charts.setOnLoadCallback(generateChart);
    </script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
  google.charts.load("current", { packages: ["corechart"] });
  google.charts.setOnLoadCallback(drawChart);

  function drawChart() {
    var pointsData = [['Points', 'Count']];
    var pointMap = new Map([
      {% for point in points %}
        [{{ point[0] }}, {{ point[1] }}],
      {% endfor %}
    ]);

    for (var i = 0; i <= 20; i++) {
      var count = pointMap.has(i) ? pointMap.get(i) : 0;
      pointsData.push([i, count]);
    }

    var data = google.visualization.arrayToDataTable(pointsData);

    var options = {
      title: 'Distribution of the different grades in the G3 test',
      legend: { position: 'none' },
      viewWindow: {
          min: -1,
          max: 20.5
        },
      hAxis: {
        title: 'Points',
      },
      vAxis: {
        title: 'Count',
      }
    };

    var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
    chart.draw(data, options);
  }
</script>

    <!-- ======= Breadcrumbs Section ======= -->
    <section class="breadcrumbs">
      <div class="container">

        <div class="d-flex justify-content-between align-items-center">
          <h2>Our results</h2>
          <ol>
            <li><a href={{url_for('home')}} >Home</a></li>
            <li>Our results</li>
          </ol>
        </div>


      </div>
    </section><!-- End Breadcrumbs Section -->

    <section id="services" class="services">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Results</h2>
          <p>Our visualisation and analysis</p>
        </div>
        <div class="row">
          <div class="col-md-6 col-lg-3 d-flex align-items-stretch" data-aos="zoom-in" data-aos-delay="100">
            <a href="#result1">
            <div class="icon-box">
              <div class="icon"><i class="bx bx-question-mark"></i></div>
              <h4 class="title"><a href="">Women are dumb</a></h4>
              <p class="description">As has always been said by the wisest, by God himself blessed gender - male - they do belong in the kitchen</p>
              </div>
            </div>
            </a>
            <div class="col-md-6 col-lg-3 d-flex align-items-stretch" data-aos="zoom-in" data-aos-delay="200">
              <a href="#result2">
              <div class="icon-box">
                <div class="icon"><i class="bx bx-money-withdraw"></i></div>
                <h4 class="title"><a href="">Money heist</a></h4>
                <p class="description">Aint gonna help you make your kids grades higher - sorry m8, genetics is genetics</p>
              </div>
            </a>
            </div>

            <div class="col-md-6 col-lg-3 d-flex align-items-stretch" data-aos="zoom-in" data-aos-delay="300">
              <a href="#result3">
              <div class="icon-box">
                <div class="icon"><i class="bx bx-drink"></i></div>
                <h4 class="title"><a href="">Alcoholics stay alocoholics</a></h4>
                <p class="description">After a thorough inspection we figured out that people that drink during the weekend also drink during the workdays - maybe thats why the money aint helping</p>
              </div>
            </a>
            </div>
            <div class="col-md-6 col-lg-3 d-flex align-items-stretch" data-aos="zoom-in" data-aos-delay="400">
              <a href="#result4">
              <div class="icon-box">
                <div class="icon"><i class="bx bxs-hot"></i></div>
                <h4 class="title"><a href="">Smart chicks are just hot</a></h4>
                <p class="description">Looks like our male audience likes to make a selection based on the academical results of the potential mating partner</p>
              </div>
            </a>
        
            </div>
        </div>


      </div>
    </section><!-- End Services Section -->
    <!-- RESULT 1-->
    <section id="result1" class="about">
      <div class="container">

        <div class="row justify-content-between">
          <div class="col-lg-5 d-flex align-items-center justify-content-center about-img">
            <img src={{url_for('static', filename="assets/img/about-img.svg" )}} class="img-fluid" alt="" data-aos="zoom-in">
          </div>
          <div class="col-lg-6 pt-5 pt-lg-0">
            <h3 data-aos="fade-up">Choosing the dataset</h3>
            <p data-aos="fade-up" data-aos-delay="100">
              At that time we had no idea about satans' contribution to the dataset because it turned out to be an absolute hell.
            </p>
            <div class="row">
              <div class="col-md-6" data-aos="fade-up" data-aos-delay="100">
                <i class="bx bx-receipt"></i>
                <h4>Nothing works</h4>
                <p>There is like literally 0 things that run smoothly in this dataset</p>
              </div>
              <div class="col-md-6" data-aos="fade-up" data-aos-delay="200">
                <i class="bx bx-cube-alt"></i>
                <h4>It might be just us being dummy</h4>
                <p>But let's blame our educational system for that</p>
              </div>
            </div>
          </div>
        </div>
        
      </div>
    </section>
    <!-- END RESULT 1-->

    <!-- RESULT 2-->
    <section id="result2" class="about">
      <div class="container">
        <div class="row">
          <p>
            {% for j in range((info_cat|length/6)|int + 2) %}
              <div class="row justify-content-center" data-aos="fade-up">
                {% for i in range(1,7) if not (5*j + i >= info_cat|length) %}
                <div class="col-2 mb-2">
                    <button type="button" class="btn btn-orange col-12" data-html='true'  data-toggle="popover" title="Statistics" data-content='<table class="table">
                      <thead>
                        <tr>
                          <th scope="col"></th>
                          <th scope="col">{{info_cat[5*j+i-1][1]}}</th>
                          <th scope="col">{{info_cat[5*j+i-1][2]}}</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <th scope="row">Estimate</th>
                          <td>{{info_cat[5*j+i-1][3]}}</td>
                          <td>{{info_cat[5*j+i-1][4]}}</td>
                        </tr>
                        <tr>
                          <th scope="row">Statistic</th>
                          <td colspan="2" class="text-center">{{info_cat[5*j+i-1][5]}}</td>
                        </tr>
                        <tr>
                          <th scope="row">P-value</th>
                          <td colspan="2" class="text-center">{{info_cat[5*j+i-1][6]}}</td>
                        </tr>
                      </tbody>
                    </table>'>
                    {{info_cat[5*j+i-1][0]}}
                  </button>

                </div>
                {% endfor %}

              </div>
            {% endfor %}
          </p>
        
        </div>
      </div>
    </section>
    <!-- END RESULT 1-->
 <!-- RESULT 2-->
 <section id="result2" class="about">
    <div class="container">

      <div class="row justify-content-between">
        <div class="col-lg-6 pt-5 pt-lg-0">
          <h3 data-aos="fade-up">There might be something fishy going on</h3>
          <p data-aos="fade-up" data-aos-delay="100">
            And when he had finished speaking, he said to Simon, “Put out into the deep and let down your nets for a catch.”
          </p>
          <div class="row">
            <div class="col-md-6" data-aos="fade-up" data-aos-delay="100">
              <i class="bx bx-receipt"></i>
              <h4>Just keep swimming</h4>
              <p>There is like literally 0 things that run smoothly in this dataset</p>
            </div>
            <div class="col-md-6" data-aos="fade-up" data-aos-delay="200">
              <i class="bx bx-cube-alt"></i>
              <h4>Haven't found a good regression let alone Nemo</h4>
              <p>But let's blame our educational system for that</p>
            </div>
          </div>
        </div>
        <div class="col-lg-5 d-flex align-items-center justify-content-center about-img">
          <img src={{url_for('static', filename="assets/img/fis.png" )}} class="img-fluid" alt="" data-aos="zoom-in">
        </div>
      </div>
      <div>
    <select id="selectOption" onchange="generateChart()">
      <option value="nic">-</option>
      <option value="Medu">Medu</option>
      <option value="Fedu">Fedu</option>
      <option value="traveltime">traveltime</option>
      <option value="studytime">studytime</option>
      <option value="failures">failures</option>
      <option value="schoolsup">schoolsup</option>
      <option value="famsup">famsup</option>
      <option value="paid">paid</option>
      <option value="activities">activities</option>
      <option value="nursery">nursery</option>
      <option value="higher">higher</option>
      <option value="internet">internet</option>
      <option value="romantic">romantic</option>
      <option value="famrel">famrel</option>
      <option value="freetime">freetime</option>
      <option value="goout">goout</option>
      <option value="Dalc">Dalc</option>
      <option value="Walc">Walc</option>
      <option value="health">health</option>
      <option value="absences">absences</option>
      <option value="G1">G1</option>
      <option value="G2">G2</option>
    </select>
  </div>
      <div id="barchart_values" style="width: 900px; height: 300px;"></div>
    </div>
  </section>
  <!-- END RESULT ľ-->
    <!-- RESULT 3-->
    <section id="result3" class="about">
      <div class="container">

        <div class="row justify-content-center">
          <div class="col-lg-12 pt-5 pt-lg-0 text-center">
            <h3 data-aos="fade-up">4 commandmends of Us</h3>
            <p data-aos="fade-up" data-aos-delay="100">
              Do not follow
            </p>
            <div class="row">
              <div class="col-md-2" data-aos="fade-up" data-aos-delay="100">
                <i class="bx bx-receipt"></i>
                <h4>Eat</h4>
                <p>A lot</p>
              </div>
              <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
                <i class="bx bx-cube-alt"></i>
                <h4>Drink</h4>
                <p>Wine</p>
              </div>
              <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
                <i class="bx bx-cube-alt"></i>
                <h4>Sleep</h4>
                <p>Like a baby</p>
              </div>
              <div class="col-md-2" data-aos="fade-up" data-aos-delay="200">
                <i class="bx bx-cube-alt"></i>
                <h4>Don't use an 4 when setting list of commands</h4>
                <p>It just doesn't sound powerful</p>
              </div>
            </div>
          </div>
        </div>
        
      </div>
    </section>
    <!-- END RESULT 3-->

    <!-- RESULT 4-->
    <section id="result4" class="about">
    <div id="chart_div" style="width: 900px; height: 500px;"></div>

      <div class="container">

        <div class="row justify-content-between">


          <div class=" col-lg-4 d-flex align-items-center justify-content-center about-img" data-aos="zoom-in">
            <div id="chart" class="chart "></div>
          </div>
          <div class="col-lg-6 ps-5 pt-3 ">
            <h3 data-aos="fade-up">Just kiding, you da hottest</h3>
            <p data-aos="fade-up" data-aos-delay="100">
              You absolutely rock and there's no hotter chick in your area
            </p>
            <div class="row">
              <div class="col-md-6" data-aos="fade-up" data-aos-delay="100">
                <i class="bx bx-receipt"></i>
                <h4>Unless you watch fimls illegaly</h4>
                <p>But those should be out of your range of interest</p>
              </div>
              <div class="col-md-6" data-aos="fade-up" data-aos-delay="200">
                <i class="bx bx-cube-alt"></i>
                <h4>Ask the mirror on the wall</h4>
                <p>whether you can fuck with them all</p>
              </div>
            </div>
          </div>
        </div>
        
      </div>
    </section>
    <!-- END RESULT 4-->


<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script type="text/javascript">

    $(function () {
        $('[data-toggle="popover"]').popover({
            html: true,
            sanitize: false,
        });
    });
  var graphs = {{graphJSON | safe}};
  Plotly.plot('chart',graphs,{});        
</script>
  </main><!-- End #main -->
{% endblock %}
